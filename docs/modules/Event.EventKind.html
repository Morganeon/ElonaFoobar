

    <!doctype html>
    <html class="no-js" lang="">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Event.EventKind module</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../uikit.min.css" type="text/css" />
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
    </head>
    <body>

    <div class="uk-container uk-container-center">
    <div class="uk-grid uk-margin-top">

    <img src="../red_putit.png" alt="Lua API" class="icon">

    <!-- sidebar start -->
    <aside class="uk-width-medium-1-5 uk-row-first">
    <div id="sidebar" class="uk-panel">

    <div class="sidebar-custom">

    <div class="project-infobox">

    <!-- project title -->

    <a href="../index.html"><h1 style="padding-top: 8px">Lua API</h1></a>

    <!-- project description -->
    <p class="project-desc">ElonaFoobar Mod API</p>

    <!-- project full description -->
    <span>  Core API for modding ElonaFoobar</span>
    </div>


    <!-- sidebar navigation -->
    <ul class="uk-nav">
    <li class="nav-item">
    <h2 class="uk-panel-title">Modules</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Chara.html"><span class="module-name-item">Chara</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Debug.html"><span class="module-name-item">Debug</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Enums.html"><span class="module-name-item">Enums</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Event.html"><span class="module-name-item">Event</span></a></div></li>
    <li class="nav-item active"><div class="nav-item-block-active block"><a href="../modules/Event.EventKind.html"><span class="module-name-item">Event.EventKind</span></a><i class="icon icon-arrow-left icon-arrow-left-custom"></i></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/FOV.html"><span class="module-name-item">FOV</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/GUI.html"><span class="module-name-item">GUI</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Item.html"><span class="module-name-item">Item</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Iter.html"><span class="module-name-item">Iter</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Magic.html"><span class="module-name-item">Magic</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Map.html"><span class="module-name-item">Map</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Pos.html"><span class="module-name-item">Pos</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Rand.html"><span class="module-name-item">Rand</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/Skill.html"><span class="module-name-item">Skill</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../modules/World.html"><span class="module-name-item">World</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="uk-nav">
    <li class="nav-item">
    <h2 class="uk-panel-title">Classes</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../classes/LuaCharacter.html"><span class="module-name-item">LuaCharacter</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../classes/LuaItem.html"><span class="module-name-item">LuaItem</span></a></div></li>
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../classes/LuaPosition.html"><span class="module-name-item">LuaPosition</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="uk-nav">
    <li class="nav-item">
    <h2 class="uk-panel-title">Topics</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../topics/readme.md.html"><span class="module-name-item">readme.md</span></a></div></li>
    </ul>
    </li>
    </ul>
    <ul class="uk-nav">
    <li class="nav-item">
    <h2 class="uk-panel-title">Examples</h2>
    <ul class="nav">
    <li class="nav-item"><div class="nav-item-block-inactive block"><a href="../examples/life.lua.html"><span class="module-name-item">life.lua</span></a></div></li>
    </ul>
    </li>
    </ul>



    <!-- list of items in a module -->
    <ul class="uk-nav nav nav-module-contents">
    <li class="nav-item">
    <h4 class="uk-panel-title">Contents of <strong>Event.EventKind</strong></h4>
    <ul class="nav">
    <li class="nav-item"><a href="#Events"><span class="fragment-hashtag">#</span> Events</a></li>
    </ul>
    </li>
    </ul>
    </div>
    <div class="up-to-top">
    <a href="#">Top <i class="icon icon-upward"></i></a>
    </div>
    </div>
    </aside>
    <!-- sidebar end -->

    <!-- content body start -->
    <div class="uk-width-medium-4-5 uk-push-1">

    <!-- module list on the main page start -->
    <!-- module list on the main page end -->

    <!-- module contents -->

    <!-- module content header start -->

    <h2><span class="body-module-name"><strong><em>Event.EventKind</em></strong></span> module</h2>
    <p>A set of events that can be listened for using the <code>Event</code> module.</p>
    <p>

</p>


    <!-- module info start -->
    <!-- module info end -->

    <!-- module usage start -->
    <h3>See also</h3>
    <ul class="module-see-also">
    <li><a href="../modules/Event.html#">Event</a></li>
    </ul>
    <h3>Usage</h3>
    <pre class="code" data-lang="Lua"><code><span class="keyword">local</span> Event = Elona.<span class="global">require</span>(<span class="string">"Event"</span>)
<span class="keyword">local</span> <span class="keyword">function</span> my_chara_moved_handler(chara)
   <span class="comment">-- your code here
</span><span class="keyword">end</span>
Event.register(Event.EventKind.CharaMoved, my_chara_moved_handler)</code></pre>
    <!-- module usage end -->

    <!-- module content header end -->

    <!-- module section list start -->
    <table class="section-content-list">
    <thead>
    <h3><a href="#Events">Events</a></h3>
    <span></span>
    </thead>
    <tbody>
    <tr>
    <td class="name"><a href="#GameInitialized">GameInitialized</a></td>
    <td class="summary">Fired after the game has finished initially loading.</td>
    </tr>
    <tr>
    <td class="name"><a href="#MapCreated">MapCreated</a></td>
    <td class="summary">Fired after a map has been initially created.</td>
    </tr>
    <tr>
    <td class="name"><a href="#CharaCreated">CharaCreated</a></td>
    <td class="summary">Fired after a character has been initially created (but not loaded
 from a savefile).</td>
    </tr>
    <tr>
    <td class="name"><a href="#ItemCreated">ItemCreated</a></td>
    <td class="summary">Fired after an item has been initially created (but not loaded
 from a savefile).</td>
    </tr>
    <tr>
    <td class="name"><a href="#CharaRemoved">CharaRemoved</a></td>
    <td class="summary">Fired after a character is no longer valid for use inside scripts.</td>
    </tr>
    <tr>
    <td class="name"><a href="#CharaRefreshed">CharaRefreshed</a></td>
    <td class="summary">Fired after a character is refreshed.</td>
    </tr>
    <tr>
    <td class="name"><a href="#CharaRefreshed">CharaRefreshed</a></td>
    <td class="summary">Fired after a character is hurt.</td>
    </tr>
    <tr>
    <td class="name"><a href="#CharaKilled">CharaKilled</a></td>
    <td class="summary">Fired after a character was killed.</td>
    </tr>
    <tr>
    <td class="name"><a href="#CharaMoved">CharaMoved</a></td>
    <td class="summary">Fired when a character is about to start moving.</td>
    </tr>
    <tr>
    <td class="name"><a href="#PlayerTurn">PlayerTurn</a></td>
    <td class="summary">Fired when a player's turn has just begun.</td>
    </tr>
    <tr>
    <td class="name"><a href="#AllTurnsFinished">AllTurnsFinished</a></td>
    <td class="summary">Fired when all characters have finished their actions this turn.</td>
    </tr>
    <tr>
    <td class="name"><a href="#MapInitialized">MapInitialized</a></td>
    <td class="summary">Fired after a map has been either created or loaded.</td>
    </tr>
    </tbody>
    </table>
    <!-- module section list end -->

    <br />

    <!-- section start -->
    <h3><span id="Events" class="section-title"><a href="#Events">Events</a></span></h3>
    <dl class="section-body-container">
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#GameInitialized" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="GameInitialized">GameInitialized</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after the game has finished initially loading.</p>
    <p class="section-item-description"> This will only ever be fired once per game session.</p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#MapCreated" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="MapCreated">MapCreated</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a map has been initially created.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#CharaCreated" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="CharaCreated">CharaCreated</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a character has been initially created (but not loaded
 from a savefile).</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>chara</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaCharacter.html#">LuaCharacter</a></span>)

     the character that was created

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#ItemCreated" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="ItemCreated">ItemCreated</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after an item has been initially created (but not loaded
 from a savefile).</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>item</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaItem.html#">LuaItem</a></span>)

     the item that was created

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#CharaRemoved" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="CharaRemoved">CharaRemoved</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a character is no longer valid for use inside scripts.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>chara</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaCharacter.html#">LuaCharacter</a></span>)

     the character that was removed

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#CharaRefreshed" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="CharaRefreshed">CharaRefreshed</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a character is refreshed.</p>
    <p class="section-item-description"> This means various
 attributes like speed are recalculated. Also, intrinsic character
 flags (the first 32) will be automatically set from their prototype
 definitions on refresh. This currently means if you want to set a
 character's intrinsic flag, you have to do so on this event.</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>chara</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaCharacter.html#">LuaCharacter</a></span>)

     the character that was refreshed

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <strong>See also:</strong>
    <ul>
    <li><a href="../classes/LuaCharacter.html#LuaCharacter:set_flag">LuaCharacter.set_flag</a></li>
    </ul>
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#CharaRefreshed" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="CharaRefreshed">CharaRefreshed</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a character is hurt.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>chara</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaCharacter.html#">LuaCharacter</a></span>)

     the character that was hurt

    </li>





    <li class="section-subitem-li">

    <strong><em>amount</em></strong>

    <strong> : </strong>

    (<span class="types"><span class="type">num</span></span>)

     the amount of damage

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#CharaKilled" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="CharaKilled">CharaKilled</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a character was killed.</p>
    <p class="section-item-description"> This might not remove the
 character, because they might revive at some later time (like NPCs
 in towns). As such, you shouldn't remove the character's data from
 global storage here.</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>chara</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaCharacter.html#">LuaCharacter</a></span>)

     the character that was killed

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#CharaMoved" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="CharaMoved">CharaMoved</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired when a character is about to start moving.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <strong>Event Parameters:</strong>

    <ul>





    <li class="section-subitem-li">

    <strong><em>chara</em></strong>

    <strong> : </strong>

    (<span class="types"><a class="type" href="../classes/LuaCharacter.html#">LuaCharacter</a></span>)

     the character that is moving

    </li>


    </ul>

    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="keyword">local</span> GUI = Elona.<span class="global">require</span>(<span class="string">"GUI"</span>)
<span class="keyword">local</span> Event = Elona.<span class="global">require</span>(<span class="string">"Event"</span>)

<span class="keyword">local</span> <span class="keyword">function</span> my_chara_moved_handler(chara)
    GUI.txt(<span class="string">"The character "</span> .. chara.name .. <span class="string">" is about to move. "</span>)
<span class="keyword">end</span>

Event.register(Event.EventKind.CharaMoved, my_chara_moved_handler)</code></pre>
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#PlayerTurn" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="PlayerTurn">PlayerTurn</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired when a player's turn has just begun.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#AllTurnsFinished" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="AllTurnsFinished">AllTurnsFinished</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired when all characters have finished their actions this turn.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <!-- usage end -->

    </dd>
    <dt>
    <div class="divider divider-custom"></div>
    <div class="block section-item-header">
    <a href="#MapInitialized" class="fragment-hashtag">#</a>
    <span class="section-item-title" id="MapInitialized">MapInitialized</span>
    </div>
    </dt>
    <dd>
    <div class="section-item-body">

    <p class="section-item-summary">Fired after a map has been either created or loaded.</p>
    <p class="section-item-description">

</p>

    <!-- parameters start -->
    <!-- parameters end -->

    <!-- returns start -->
    <!-- returns end -->


    <!-- see also start -->
    <!-- see also end -->

    <!-- usage start -->
    <strong>Usage:</strong>
    <pre class="code" data-lang="Lua"><code><span class="keyword">local</span> Chara = Elona.<span class="global">require</span>(<span class="string">"Chara"</span>)
<span class="keyword">local</span> Event = Elona.<span class="global">require</span>(<span class="string">"Event"</span>)
<span class="keyword">local</span> Map = Elona.<span class="global">require</span>(<span class="string">"Map"</span>)

<span class="keyword">local</span> <span class="keyword">function</span> place_characters()
    <span class="keyword">for</span> i=<span class="number">0</span>, <span class="number">50</span> <span class="keyword">do</span>
        <span class="keyword">local</span> pos = Map.random_pos()
        Chara.create(pos, <span class="number">3</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span>

Event.register(Event.EventKind.MapInitialized, place_characters)</code></pre>
    <!-- usage end -->

    </dd>
    </dl>

    <!-- section end -->

    </div>
    </div>
    </div>

    <div class="uk-container uk-container-center uk-hidden-small">
    <hr/>
    <div class="footer-columns columns">
    <div class="sidebar-footer column col-3 col-sm-12">
    <i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
    </div>
    <div class="content-footer column col-9 col-sm-12">
    <i>Last updated 2018-06-10 11:00:06 UTC</i>
    </div>
    </div>
    </div>
    </body>
    </html>
